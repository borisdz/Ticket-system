/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/busticket_screen/BusTicketViewBase.hpp>
#include <touchgfx/Color.hpp>
#include <images/BitmapDatabase.hpp>
#include <texts/TextKeysAndLanguages.hpp>

BusTicketViewBase::BusTicketViewBase() :
    updateItemCallback(this, &BusTicketViewBase::updateItemCallbackHandler)
{
    __background.setPosition(0, 0, 480, 272);
    __background.setColor(touchgfx::Color::getColorFromRGB(0, 0, 0));
    add(__background);

    background.setXY(0, 0);
    background.setBitmap(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_BACKGROUNDS_480X480_SPOTLIGHTS_ID));
    add(background);

    scrollTrain.setPosition(11, 36, 210, 200);
    scrollTrain.setHorizontal(false);
    scrollTrain.setCircular(true);
    scrollTrain.setEasingEquation(touchgfx::EasingEquations::backEaseOut);
    scrollTrain.setSwipeAcceleration(10);
    scrollTrain.setDragAcceleration(10);
    scrollTrain.setNumberOfItems(7);
    scrollTrain.setSelectedItemOffset(0);
    scrollTrain.setOvershootPercentage(75);
    scrollTrain.setDrawableSize(40, 0);
    scrollTrain.setDrawables(scrollTrainListItems, updateItemCallback);
    scrollTrain.animateToItem(0, 0);
    add(scrollTrain);

    textTicketNo.setXY(249, 23);
    textTicketNo.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textTicketNo.setLinespacing(0);
    Unicode::snprintf(textTicketNoBuffer, TEXTTICKETNO_SIZE, "%s", touchgfx::TypedText(T___SINGLEUSE_H2HS).getText());
    textTicketNo.setWildcard(textTicketNoBuffer);
    textTicketNo.resizeToCurrentText();
    textTicketNo.setTypedText(touchgfx::TypedText(T___SINGLEUSE_CT7L));
    add(textTicketNo);

    buttonDown.setBoxWithBorderPosition(0, 0, 70, 50);
    buttonDown.setBorderSize(5);
    buttonDown.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonDown.setIconBitmaps(Bitmap(BITMAP_ICON_THEME_IMAGES_HARDWARE_KEYBOARD_ARROW_DOWN_50_50_000000_SVG_ID), Bitmap(BITMAP_ICON_THEME_IMAGES_ACTION_DONE_50_50_000000_SVG_ID));
    buttonDown.setIconXY(10, 0);
    buttonDown.setPosition(249, 69, 70, 50);
    add(buttonDown);

    buttonUp.setBoxWithBorderPosition(0, 0, 70, 50);
    buttonUp.setBorderSize(5);
    buttonUp.setBoxWithBorderColors(touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255), touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonUp.setIconBitmaps(Bitmap(BITMAP_ICON_THEME_IMAGES_HARDWARE_KEYBOARD_ARROW_UP_50_50_000000_SVG_ID), Bitmap(BITMAP_ICON_THEME_IMAGES_ACTION_DONE_50_50_E8F6FB_SVG_ID));
    buttonUp.setIconXY(11, 0);
    buttonUp.setPosition(379, 69, 70, 50);
    add(buttonUp);

    textSelectedDest.setXY(238, 136);
    textSelectedDest.setColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    textSelectedDest.setLinespacing(0);
    textSelectedDest.setWildcard(touchgfx::TypedText(T_SKOPJE).getText());
    textSelectedDest.resizeToCurrentText();
    textSelectedDest.setTypedText(touchgfx::TypedText(T___SINGLEUSE_HRNV));
    add(textSelectedDest);

    buttonWithLabel1.setXY(262, 211);
    buttonWithLabel1.setBitmaps(touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_50_SMALL_ROUND_INACTIVE_ID), touchgfx::Bitmap(BITMAP_ALTERNATE_THEME_IMAGES_WIDGETS_BUTTON_REGULAR_HEIGHT_50_SMALL_ROUND_DISABLED_ID));
    buttonWithLabel1.setLabelText(touchgfx::TypedText(T___SINGLEUSE_5KIB));
    buttonWithLabel1.setLabelColor(touchgfx::Color::getColorFromRGB(255, 255, 255));
    buttonWithLabel1.setLabelColorPressed(touchgfx::Color::getColorFromRGB(255, 255, 255));
    add(buttonWithLabel1);
}

BusTicketViewBase::~BusTicketViewBase()
{

}

void BusTicketViewBase::setupScreen()
{
    scrollTrain.initialize();
    for (int i = 0; i < scrollTrainListItems.getNumberOfDrawables(); i++)
    {
        scrollTrainListItems[i].initialize();
    }
}

void BusTicketViewBase::updateItemCallbackHandler(touchgfx::DrawableListItemsInterface* items, int16_t containerIndex, int16_t itemIndex)
{
    if (items == &scrollTrainListItems)
    {
        touchgfx::Drawable* d = items->getDrawable(containerIndex);
        DestinationMenu* cc = (DestinationMenu*)d;
        scrollTrainUpdateItem(*cc, itemIndex);
    }
}
